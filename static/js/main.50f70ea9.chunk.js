(this.webpackJsonpgerman_test=this.webpackJsonpgerman_test||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},15:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(8),l=a.n(s),c=(a(15),a(6)),o=a.n(c),i=a(9),u=a(1),p=a(2),d=a(4),m=a(3),f=a(5),h=(a(17),a(18),function(){return r.a.createElement("div",{className:"lds-ring"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),g=function(e){return r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{onClick:function(){return e.sortBy("singer")}},"Singer"),r.a.createElement("th",{onClick:function(){return e.sortBy("song")}},"Song "),r.a.createElement("th",{onClick:function(){return e.sortBy("ganre")}},"Ganre "),r.a.createElement("th",{onClick:function(){return e.sortBy("year")}},"Year "))),r.a.createElement("tbody",null,e.data.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,e.singer),r.a.createElement("td",null,e.song),r.a.createElement("td",null,e.ganre),r.a.createElement("td",null,e.year))}))))},v=function(e){function t(e){var a;return Object(u.a)(this,t),(a=Object(d.a)(this,Object(m.a)(t).call(this,e))).handleChangeGanre=function(e){a.setState({selectedGanre:e.target.value})},a.wrapperFunction=function(e){a.props.setSelectedYear(a.state.selectedYear),a.setState({selectedYear:e.target.value})},a.state={value:"",data:a.props.data,selectedGanre:"all",selectedYear:"all"},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"getUnique",value:function(e,t){return e.map((function(e){return e[t]})).map((function(e,t,a){return a.indexOf(e)===t&&t})).filter((function(t){return e[t]})).map((function(t){return e[t]}))}},{key:"render",value:function(){var e=this,t=this.state.data,a=this.getUnique(t,"year"),n=this.getUnique(t,"ganre"),s=[],l=[];n.map((function(e){s.push(e.ganre)})),s.sort(),a.map((function(e){l.push(e.year)})),l.sort();return r.a.createElement("div",{className:"filter"},r.a.createElement("select",{className:"select",value:this.props.ganre,onChange:function(t){return a=t.target.value,e.props.setSelectedGanre(a),void e.props.paginate(1);var a}},r.a.createElement("option",{value:"all"},"All"),s.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))),r.a.createElement("select",{className:"select",value:this.props.year,onChange:function(t){return a=t.target.value,e.props.setSelectedYear(a),void e.props.paginate(1);var a}},r.a.createElement("option",{value:"all"},"All"),l.map((function(e,t){return r.a.createElement("option",{key:t,value:e},e)}))))}}]),t}(r.a.Component),E=function(e){for(var t=e.postsPerPage,a=e.totalPosts,n=e.paginate,s=e.currentPage,l=[],c=1;c<=Math.ceil(a/t);c++)l.push(c);return r.a.createElement("nav",{className:"pagination"},l.map((function(e){return r.a.createElement("li",{key:e},r.a.createElement("span",{className:s==e?"active-page":null,onClick:function(){return n(e)}},e))})))},y=function(e){function t(){var e,a;Object(u.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(d.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(r)))).state={isLoading:!0,data:[],sort:" asc",sortField:"singer",currentPage:1,rowsToDisplay:5,selectedGanre:"all",selectedYear:"all"},a.setSelectedGanre=function(e){a.setState({selectedGanre:e})},a.setSelectedYear=function(e){a.setState({selectedYear:e})},a.filterData=function(e,t,a){return"all"===t&&"all"===a?e:"all"!==t&&"all"===a?e.filter((function(e){return e.ganre==t})):"all"===t&&"all"!==a?e.filter((function(e){return e.year==a})):"all"!==t&&"all"!==a?e.filter((function(e){return e.year==a})).filter((function(e){return e.ganre==t})):void 0},a.sortBy=function(e){"asc"===a.state.sort?a.setState({data:a.state.data.sort((function(t,a){return t[e]<a[e]?1:t[e]>a[e]?-1:0})),sort:"asc"===a.state.sort?"desc":"asc"}):a.setState({data:a.state.data.sort((function(t,a){return t[e]<a[e]?-1:t[e]>a[e]?1:0})),sort:"asc"===a.state.sort?"desc":"asc"})},a}return Object(f.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){var e=Object(i.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("./songs.json");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,this.setState({isLoading:!1,data:a});case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.filterData(this.state.data,this.state.selectedGanre,this.state.selectedYear),a=this.state.currentPage*this.state.rowsToDisplay,n=a-this.state.rowsToDisplay,s=t.slice(n,a),l=function(t){e.setState({currentPage:t})};return r.a.createElement("div",{className:"App"},this.state.isLoading?r.a.createElement(h,null):r.a.createElement(r.a.Fragment,null,r.a.createElement(g,{data:s,sort:this.state.sort,sortBy:this.sortBy}),r.a.createElement(E,{postsPerPage:this.state.rowsToDisplay,totalPosts:this.state.data.length,paginate:l,currentPage:this.state.currentPage}),r.a.createElement("div",{className:"page-size"},"Songs to show:",r.a.createElement("span",{className:3===this.state.rowsToDisplay?"active-button":null,onClick:function(){return e.setState({rowsToDisplay:3,currentPage:1})}},"3"),r.a.createElement("span",{className:5===this.state.rowsToDisplay?"active-button":null,onClick:function(){return e.setState({rowsToDisplay:5,currentPage:1})}},"5"),r.a.createElement("span",{className:10===this.state.rowsToDisplay?"active-button":null,onClick:function(){return e.setState({rowsToDisplay:10,currentPage:1})}},"10")),r.a.createElement(v,{paginate:l,data:this.state.data,setSelectedGanre:this.setSelectedGanre,setSelectedYear:this.setSelectedYear,year:this.state.selectedYear,ganre:this.state.selectedGanre})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[10,1,2]]]);
//# sourceMappingURL=main.50f70ea9.chunk.js.map